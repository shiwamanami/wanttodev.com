{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/shiwa/Desktop/wanttodev.com/src/components/FadeInStagger.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst fadeInLeftStyle = `\n  @keyframes fadeInLeft {\n    from {\n      opacity: 0;\n      transform: translateX(-20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n  \n  @keyframes fadeOutLeft {\n    from {\n      opacity: 1;\n      transform: translateX(0);\n    }\n    to {\n      opacity: 0;\n      transform: translateX(-20px);\n    }\n  }\n  \n  .fade-in-left-animation {\n    animation: fadeInLeft 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;\n  }\n  \n  .fade-out-left-animation {\n    animation: fadeOutLeft 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;\n  }\n  \n  .fade-out-state {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n`;\nexport const FadeInStagger = ({\n  children,\n  delay = 0,\n  staggerDelay = 200,\n  threshold = 0.1,\n  rootMargin = \"0px 0px -50px 0px\",\n  repeat = false\n}) => {\n  _s();\n  const [visibleLines, setVisibleLines] = useState([]);\n  const [isVisible, setIsVisible] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [isFadingOut, setIsFadingOut] = useState(false);\n  const containerRef = useRef(null);\n\n  // サーバーサイドレンダリング時とクライアント初期状態は同じ\n  const shouldShowAnimation = isMounted && isVisible;\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n  useEffect(() => {\n    if (!isMounted) return;\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting && !isAnimating) {\n        setIsVisible(true);\n        setIsAnimating(true);\n        setIsFadingOut(false);\n\n        // 子要素を配列に変換\n        const childrenArray = React.Children.toArray(children);\n\n        // 各子要素に対して遅延を設定\n        childrenArray.forEach((_, index) => {\n          setTimeout(() => {\n            setVisibleLines(prev => [...prev, index]);\n          }, delay + index * staggerDelay);\n        });\n\n        // 繰り返しモードでない場合は監視を停止\n        if (!repeat) {\n          observer.disconnect();\n        }\n      } else if (!entry.isIntersecting && isVisible) {\n        // 要素が画面外に出た場合\n        setIsFadingOut(true);\n\n        // フェードアウトアニメーション完了後に状態をリセット\n        setTimeout(() => {\n          setIsVisible(false);\n          setVisibleLines([]);\n          setIsAnimating(false);\n          setIsFadingOut(false);\n        }, 1000); // フェードアウトアニメーションの時間\n      }\n    }, {\n      threshold,\n      rootMargin\n    });\n    if (containerRef.current) {\n      observer.observe(containerRef.current);\n    }\n    return () => observer.disconnect();\n  }, [isMounted, children, delay, staggerDelay, threshold, rootMargin, repeat, isVisible, isAnimating]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: fadeInLeftStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      children: React.Children.map(children, (child, index) => {\n        let className = \"opacity-0 -translate-x-16\";\n        if (isFadingOut) {\n          className = \"fade-out-left-animation\";\n        } else if (shouldShowAnimation && visibleLines.includes(index)) {\n          className = \"fade-in-left-animation\";\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: className,\n          children: child\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(FadeInStagger, \"KTNdB+n6BqXxx3mlxlLscxoI5eY=\");\n_c = FadeInStagger;\nvar _c;\n$RefreshReg$(_c, \"FadeInStagger\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useEffect","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","fadeInLeftStyle","FadeInStagger","children","delay","staggerDelay","threshold","rootMargin","repeat","visibleLines","setVisibleLines","isVisible","setIsVisible","isMounted","setIsMounted","isAnimating","setIsAnimating","isFadingOut","setIsFadingOut","containerRef","shouldShowAnimation","observer","IntersectionObserver","entry","isIntersecting","childrenArray","Children","toArray","forEach","_","index","setTimeout","prev","disconnect","current","observe","fileName","lineNumber","columnNumber","ref","map","child","className","includes","_c","$RefreshReg$"],"sources":["/Users/shiwa/Desktop/wanttodev.com/src/components/FadeInStagger.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState, useRef, ReactNode } from \"react\";\n\nconst fadeInLeftStyle = `\n  @keyframes fadeInLeft {\n    from {\n      opacity: 0;\n      transform: translateX(-20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n  \n  @keyframes fadeOutLeft {\n    from {\n      opacity: 1;\n      transform: translateX(0);\n    }\n    to {\n      opacity: 0;\n      transform: translateX(-20px);\n    }\n  }\n  \n  .fade-in-left-animation {\n    animation: fadeInLeft 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;\n  }\n  \n  .fade-out-left-animation {\n    animation: fadeOutLeft 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;\n  }\n  \n  .fade-out-state {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n`;\n\ninterface FadeInStaggerProps {\n  children: ReactNode;\n  delay?: number;\n  staggerDelay?: number;\n  threshold?: number;\n  rootMargin?: string;\n  repeat?: boolean;\n}\n\nexport const FadeInStagger = ({\n  children,\n  delay = 0,\n  staggerDelay = 200,\n  threshold = 0.1,\n  rootMargin = \"0px 0px -50px 0px\",\n  repeat = false,\n}: FadeInStaggerProps) => {\n  const [visibleLines, setVisibleLines] = useState<number[]>([]);\n  const [isVisible, setIsVisible] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [isFadingOut, setIsFadingOut] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // サーバーサイドレンダリング時とクライアント初期状態は同じ\n  const shouldShowAnimation = isMounted && isVisible;\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (!isMounted) return;\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && !isAnimating) {\n          setIsVisible(true);\n          setIsAnimating(true);\n          setIsFadingOut(false);\n\n          // 子要素を配列に変換\n          const childrenArray = React.Children.toArray(children);\n\n          // 各子要素に対して遅延を設定\n          childrenArray.forEach((_, index) => {\n            setTimeout(\n              () => {\n                setVisibleLines((prev) => [...prev, index]);\n              },\n              delay + index * staggerDelay\n            );\n          });\n\n          // 繰り返しモードでない場合は監視を停止\n          if (!repeat) {\n            observer.disconnect();\n          }\n        } else if (!entry.isIntersecting && isVisible) {\n          // 要素が画面外に出た場合\n          setIsFadingOut(true);\n\n          // フェードアウトアニメーション完了後に状態をリセット\n          setTimeout(() => {\n            setIsVisible(false);\n            setVisibleLines([]);\n            setIsAnimating(false);\n            setIsFadingOut(false);\n          }, 1000); // フェードアウトアニメーションの時間\n        }\n      },\n      { threshold, rootMargin }\n    );\n\n    if (containerRef.current) {\n      observer.observe(containerRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, [\n    isMounted,\n    children,\n    delay,\n    staggerDelay,\n    threshold,\n    rootMargin,\n    repeat,\n    isVisible,\n    isAnimating,\n  ]);\n\n  return (\n    <>\n      <style>{fadeInLeftStyle}</style>\n      <div ref={containerRef}>\n        {React.Children.map(children, (child, index) => {\n          let className = \"opacity-0 -translate-x-16\";\n\n          if (isFadingOut) {\n            className = \"fade-out-left-animation\";\n          } else if (shouldShowAnimation && visibleLines.includes(index)) {\n            className = \"fade-in-left-animation\";\n          }\n\n          return (\n            <div key={index} className={className}>\n              {child}\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}