{"ast":null,"code":"// ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã®ãŸã‚ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°\n// æ³¨æ„: ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã§ã¯ç›´æ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ãŸã‚ã€\n// ã“ã®å®Ÿè£…ã¯é–‹ç™ºç’°å¢ƒã§ã®ã¿å‹•ä½œã—ã¾ã™\n// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®APIãŒå¿…è¦ï¼‰\nexport async function readJsonFile(filePath){try{// é–‹ç™ºç’°å¢ƒã§ã¯ã€fetchã‚’ä½¿ç”¨ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€\nconsole.log(\"ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ä¸­:\",filePath);const response=await fetch(filePath);if(!response.ok){throw new Error(\"\\u30D5\\u30A1\\u30A4\\u30EB\\u306E\\u8AAD\\u307F\\u8FBC\\u307F\\u306B\\u5931\\u6557\\u3057\\u307E\\u3057\\u305F: \".concat(response.statusText));}const data=await response.json();console.log(\"âœ… ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æˆåŠŸ:\",data.length,\"ä»¶ã®ãƒ‡ãƒ¼ã‚¿\");return{success:true,data};}catch(error){console.error(\"âŒ ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:\",error);return{success:false,error:error instanceof Error?error.message:\"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\"};}}// ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥æ›´æ–°ï¼‰\nexport async function writeJsonFile(filePath,data){try{const jsonString=JSON.stringify(data,null,2);// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿å­˜\nlocalStorage.setItem(\"works-data-backup\",jsonString);// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥æ›´æ–°ã‚’è©¦è¡Œ\ntry{// é–‹ç™ºç’°å¢ƒã§ã®ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ï¼ˆNode.jsç’°å¢ƒãŒå¿…è¦ï¼‰\nif(typeof window!==\"undefined\"&&window.location.hostname===\"localhost\"){// é–‹ç™ºã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°\nconst response=await fetch(\"/api/update-works-data\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:jsonString});if(response.ok){console.log(\"âœ… src/data/works-dynamic.json ã¨ public/works-dynamic.json ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã—ãŸ\");return{success:true,data};}}}catch(apiError){console.log(\"APIçµŒç”±ã§ã®æ›´æ–°ã«å¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè¡Œ\");}// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¦æ‰‹å‹•æ›´æ–°ã‚’ä¿ƒã™\nconsole.log(\"=== ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ ===\");console.log(\"ä»¥ä¸‹ã®JSONãƒ‡ãƒ¼ã‚¿ã‚’ src/data/works-dynamic.json ã¨ public/works-dynamic.json ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„:\");console.log(\"=====================================\");console.log(jsonString);console.log(\"=====================================\");// ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ï¼ˆå¯èƒ½ãªå ´åˆï¼‰\nif(navigator.clipboard&&window.isSecureContext){try{await navigator.clipboard.writeText(jsonString);console.log(\"ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸ\");}catch(clipboardError){console.log(\"ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ\");}}return{success:true,data};}catch(error){console.error(\"ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿ã‚¨ãƒ©ãƒ¼:\",error);return{success:false,error:error instanceof Error?error.message:\"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\"};}}// è‡ªå‹•ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ©Ÿèƒ½ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥æ›´æ–°ï¼‰\nexport async function autoUpdateJsonFile(filePath,data){try{const jsonString=JSON.stringify(data,null,2);// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\nlocalStorage.setItem(\"works-data-backup\",jsonString);// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥æ›´æ–°ã‚’è©¦è¡Œ\ntry{// é–‹ç™ºç’°å¢ƒã§ã®ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ï¼ˆNode.jsç’°å¢ƒãŒå¿…è¦ï¼‰\nif(typeof window!==\"undefined\"&&window.location.hostname===\"localhost\"){// é–‹ç™ºã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°\nconst response=await fetch(\"/api/update-works-data\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:jsonString});if(response.ok){console.log(\"âœ… src/data/works-dynamic.json ã¨ public/works-dynamic.json ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã—ãŸ\");return{success:true,data};}}}catch(apiError){console.log(\"APIçµŒç”±ã§ã®æ›´æ–°ã«å¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè¡Œ\");}// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¦æ‰‹å‹•æ›´æ–°ã‚’ä¿ƒã™\nconsole.log(\"=== ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ ===\");console.log(\"ä»¥ä¸‹ã®JSONãƒ‡ãƒ¼ã‚¿ã‚’ src/data/works-dynamic.json ã¨ public/works-dynamic.json ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„:\");console.log(\"=====================================\");console.log(jsonString);console.log(\"=====================================\");// ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ï¼ˆå¯èƒ½ãªå ´åˆï¼‰\nif(navigator.clipboard&&window.isSecureContext){try{await navigator.clipboard.writeText(jsonString);console.log(\"ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸ\");}catch(clipboardError){console.log(\"ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ\");}}return{success:true,data};}catch(error){console.error(\"è‡ªå‹•ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã‚¨ãƒ©ãƒ¼:\",error);return{success:false,error:error instanceof Error?error.message:\"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\"};}}// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ©Ÿèƒ½ï¼ˆé–‹ç™ºç’°å¢ƒç”¨ï¼‰\nexport async function realtimeUpdateJsonFile(filePath,data){try{const jsonString=JSON.stringify(data,null,2);// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\nlocalStorage.setItem(\"works-data-backup\",jsonString);// é–‹ç™ºç’°å¢ƒã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°\nif(typeof window!==\"undefined\"&&window.location.hostname===\"localhost\"){try{// Node.jsã‚¹ã‚¯ãƒªãƒ—ãƒˆçµŒç”±ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã‚’è©¦è¡Œ\nconst response=await fetch(\"/api/update-works-data\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({data:jsonString})});if(response.ok){console.log(\"âœ… src/data/works-dynamic.json ã¨ public/works-dynamic.json ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã•ã‚Œã¾ã—ãŸ\");return{success:true,data};}}catch(apiError){console.log(\"APIçµŒç”±ã§ã®æ›´æ–°ã«å¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè¡Œ\");}}// æœ€çµ‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«è¡¨ç¤º + ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼\nconsole.log(\"=== ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ ===\");console.log(\"ä»¥ä¸‹ã®JSONãƒ‡ãƒ¼ã‚¿ã‚’ src/data/works-dynamic.json ã¨ public/works-dynamic.json ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„:\");console.log(\"=====================================\");console.log(jsonString);console.log(\"=====================================\");if(navigator.clipboard&&window.isSecureContext){try{await navigator.clipboard.writeText(jsonString);console.log(\"ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸ\");}catch(clipboardError){console.log(\"ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ\");}}return{success:true,data};}catch(error){console.error(\"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã‚¨ãƒ©ãƒ¼:\",error);return{success:false,error:error instanceof Error?error.message:\"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\"};}}// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰\nexport function readFromLocalStorage(key){try{const storedData=localStorage.getItem(key);if(storedData){const parsedData=JSON.parse(storedData);return Array.isArray(parsedData)?parsedData:[];}return[];}catch(error){console.error(\"ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:\",error);return[];}}// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰\nexport function saveToLocalStorage(key,data){try{localStorage.setItem(key,JSON.stringify(data));return true;}catch(error){console.error(\"ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä¿å­˜ã‚¨ãƒ©ãƒ¼:\",error);return false;}}","map":{"version":3,"names":["readJsonFile","filePath","console","log","response","fetch","ok","Error","concat","statusText","data","json","length","success","error","message","writeJsonFile","jsonString","JSON","stringify","localStorage","setItem","window","location","hostname","method","headers","body","apiError","navigator","clipboard","isSecureContext","writeText","clipboardError","autoUpdateJsonFile","realtimeUpdateJsonFile","readFromLocalStorage","key","storedData","getItem","parsedData","parse","Array","isArray","saveToLocalStorage"],"sources":["/Users/shiwa/Desktop/wanttodev.com/src/lib/fileUtils.ts"],"sourcesContent":["// ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã®ãŸã‚ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°\n// æ³¨æ„: ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã§ã¯ç›´æ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ãŸã‚ã€\n// ã“ã®å®Ÿè£…ã¯é–‹ç™ºç’°å¢ƒã§ã®ã¿å‹•ä½œã—ã¾ã™\n\nexport interface FileOperationResult {\n  success: boolean;\n  data?: any;\n  error?: string;\n}\n\n// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®APIãŒå¿…è¦ï¼‰\nexport async function readJsonFile(\n  filePath: string\n): Promise<FileOperationResult> {\n  try {\n    // é–‹ç™ºç’°å¢ƒã§ã¯ã€fetchã‚’ä½¿ç”¨ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€\n    console.log(\"ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ä¸­:\", filePath);\n    const response = await fetch(filePath);\n    if (!response.ok) {\n      throw new Error(\n        `ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: ${response.statusText}`\n      );\n    }\n    const data = await response.json();\n    console.log(\"âœ… ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æˆåŠŸ:\", data.length, \"ä»¶ã®ãƒ‡ãƒ¼ã‚¿\");\n    return { success: true, data };\n  } catch (error) {\n    console.error(\"âŒ ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:\", error);\n    return {\n      success: false,\n      error:\n        error instanceof Error ? error.message : \"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\",\n    };\n  }\n}\n\n// ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥æ›´æ–°ï¼‰\nexport async function writeJsonFile(\n  filePath: string,\n  data: any\n): Promise<FileOperationResult> {\n  try {\n    const jsonString = JSON.stringify(data, null, 2);\n\n    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿å­˜\n    localStorage.setItem(\"works-data-backup\", jsonString);\n\n    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥æ›´æ–°ã‚’è©¦è¡Œ\n    try {\n      // é–‹ç™ºç’°å¢ƒã§ã®ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ï¼ˆNode.jsç’°å¢ƒãŒå¿…è¦ï¼‰\n      if (\n        typeof window !== \"undefined\" &&\n        window.location.hostname === \"localhost\"\n      ) {\n        // é–‹ç™ºã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°\n        const response = await fetch(\"/api/update-works-data\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: jsonString,\n        });\n\n        if (response.ok) {\n          console.log(\n            \"âœ… src/data/works-dynamic.json ã¨ public/works-dynamic.json ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã—ãŸ\"\n          );\n          return { success: true, data };\n        }\n      }\n    } catch (apiError) {\n      console.log(\"APIçµŒç”±ã§ã®æ›´æ–°ã«å¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè¡Œ\");\n    }\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¦æ‰‹å‹•æ›´æ–°ã‚’ä¿ƒã™\n    console.log(\"=== ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ ===\");\n    console.log(\n      \"ä»¥ä¸‹ã®JSONãƒ‡ãƒ¼ã‚¿ã‚’ src/data/works-dynamic.json ã¨ public/works-dynamic.json ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„:\"\n    );\n    console.log(\"=====================================\");\n    console.log(jsonString);\n    console.log(\"=====================================\");\n\n    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ï¼ˆå¯èƒ½ãªå ´åˆï¼‰\n    if (navigator.clipboard && window.isSecureContext) {\n      try {\n        await navigator.clipboard.writeText(jsonString);\n        console.log(\"ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸ\");\n      } catch (clipboardError) {\n        console.log(\"ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ\");\n      }\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    console.error(\"ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿ã‚¨ãƒ©ãƒ¼:\", error);\n    return {\n      success: false,\n      error:\n        error instanceof Error ? error.message : \"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\",\n    };\n  }\n}\n\n// è‡ªå‹•ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ©Ÿèƒ½ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥æ›´æ–°ï¼‰\nexport async function autoUpdateJsonFile(\n  filePath: string,\n  data: any\n): Promise<FileOperationResult> {\n  try {\n    const jsonString = JSON.stringify(data, null, 2);\n\n    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\n    localStorage.setItem(\"works-data-backup\", jsonString);\n\n    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥æ›´æ–°ã‚’è©¦è¡Œ\n    try {\n      // é–‹ç™ºç’°å¢ƒã§ã®ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ï¼ˆNode.jsç’°å¢ƒãŒå¿…è¦ï¼‰\n      if (\n        typeof window !== \"undefined\" &&\n        window.location.hostname === \"localhost\"\n      ) {\n        // é–‹ç™ºã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°\n        const response = await fetch(\"/api/update-works-data\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: jsonString,\n        });\n\n        if (response.ok) {\n          console.log(\n            \"âœ… src/data/works-dynamic.json ã¨ public/works-dynamic.json ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã—ãŸ\"\n          );\n          return { success: true, data };\n        }\n      }\n    } catch (apiError) {\n      console.log(\"APIçµŒç”±ã§ã®æ›´æ–°ã«å¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè¡Œ\");\n    }\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¦æ‰‹å‹•æ›´æ–°ã‚’ä¿ƒã™\n    console.log(\"=== ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ ===\");\n    console.log(\n      \"ä»¥ä¸‹ã®JSONãƒ‡ãƒ¼ã‚¿ã‚’ src/data/works-dynamic.json ã¨ public/works-dynamic.json ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„:\"\n    );\n    console.log(\"=====================================\");\n    console.log(jsonString);\n    console.log(\"=====================================\");\n\n    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ï¼ˆå¯èƒ½ãªå ´åˆï¼‰\n    if (navigator.clipboard && window.isSecureContext) {\n      try {\n        await navigator.clipboard.writeText(jsonString);\n        console.log(\"ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸ\");\n      } catch (clipboardError) {\n        console.log(\"ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ\");\n      }\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    console.error(\"è‡ªå‹•ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã‚¨ãƒ©ãƒ¼:\", error);\n    return {\n      success: false,\n      error:\n        error instanceof Error ? error.message : \"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\",\n    };\n  }\n}\n\n// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ©Ÿèƒ½ï¼ˆé–‹ç™ºç’°å¢ƒç”¨ï¼‰\nexport async function realtimeUpdateJsonFile(\n  filePath: string,\n  data: any\n): Promise<FileOperationResult> {\n  try {\n    const jsonString = JSON.stringify(data, null, 2);\n\n    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\n    localStorage.setItem(\"works-data-backup\", jsonString);\n\n    // é–‹ç™ºç’°å¢ƒã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°\n    if (\n      typeof window !== \"undefined\" &&\n      window.location.hostname === \"localhost\"\n    ) {\n      try {\n        // Node.jsã‚¹ã‚¯ãƒªãƒ—ãƒˆçµŒç”±ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã‚’è©¦è¡Œ\n        const response = await fetch(\"/api/update-works-data\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ data: jsonString }),\n        });\n\n        if (response.ok) {\n          console.log(\n            \"âœ… src/data/works-dynamic.json ã¨ public/works-dynamic.json ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã•ã‚Œã¾ã—ãŸ\"\n          );\n          return { success: true, data };\n        }\n      } catch (apiError) {\n        console.log(\"APIçµŒç”±ã§ã®æ›´æ–°ã«å¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè¡Œ\");\n      }\n    }\n\n    // æœ€çµ‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«è¡¨ç¤º + ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼\n    console.log(\"=== ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ ===\");\n    console.log(\n      \"ä»¥ä¸‹ã®JSONãƒ‡ãƒ¼ã‚¿ã‚’ src/data/works-dynamic.json ã¨ public/works-dynamic.json ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„:\"\n    );\n    console.log(\"=====================================\");\n    console.log(jsonString);\n    console.log(\"=====================================\");\n\n    if (navigator.clipboard && window.isSecureContext) {\n      try {\n        await navigator.clipboard.writeText(jsonString);\n        console.log(\"ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸ\");\n      } catch (clipboardError) {\n        console.log(\"ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ\");\n      }\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    console.error(\"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã‚¨ãƒ©ãƒ¼:\", error);\n    return {\n      success: false,\n      error:\n        error instanceof Error ? error.message : \"ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\",\n    };\n  }\n}\n\n// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰\nexport function readFromLocalStorage(key: string): any[] {\n  try {\n    const storedData = localStorage.getItem(key);\n    if (storedData) {\n      const parsedData = JSON.parse(storedData);\n      return Array.isArray(parsedData) ? parsedData : [];\n    }\n    return [];\n  } catch (error) {\n    console.error(\"ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:\", error);\n    return [];\n  }\n}\n\n// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰\nexport function saveToLocalStorage(key: string, data: any[]): boolean {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n    return true;\n  } catch (error) {\n    console.error(\"ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä¿å­˜ã‚¨ãƒ©ãƒ¼:\", error);\n    return false;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}