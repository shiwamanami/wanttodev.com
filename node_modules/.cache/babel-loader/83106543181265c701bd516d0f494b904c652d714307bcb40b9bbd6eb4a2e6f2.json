{"ast":null,"code":"import{useRecentBooks}from\"../hooks/useRecentBooks\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BookCard(_ref){let{book}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4 md:gap-6\",children:[book.cover&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:book.cover,alt:book.title,className:\"w-32 h-48 md:w-40 md:h-60 object-cover\",loading:\"lazy\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg md:text-xl font-bold mb-1 text-white\",children:book.title}),book.subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm md:text-base text-gray-400 mb-2\",children:book.subtitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm md:text-base text-gray-300 space-y-1 mb-3\",children:[book.author&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u8457\\u8005:\"}),\" \",book.author]}),book.publisher&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u51FA\\u7248\\u793E:\"}),\" \",book.publisher]}),book.pubdate&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u767A\\u884C\\u65E5:\"}),\" \",book.pubdate]}),book.pageCount&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u30DA\\u30FC\\u30B8\\u6570:\"}),\" \",book.pageCount,\"\\u30DA\\u30FC\\u30B8\"]}),book.categories&&book.categories.length>0&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u30AB\\u30C6\\u30B4\\u30EA:\"}),\" \",book.categories.join(\", \")]}),book.averageRating&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u8A55\\u4FA1:\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-yellow-400\",children:[\"★\".repeat(Math.round(book.averageRating)),\"☆\".repeat(5-Math.round(book.averageRating))]}),\" \",book.averageRating.toFixed(1),book.ratingsCount&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500 text-xs ml-1\",children:[\"(\",book.ratingsCount,\"\\u4EF6\\u306E\\u8A55\\u4FA1)\"]})]})]}),book.summary&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 line-clamp-3 mb-3\",children:book.summary}),(book.previewLink||book.infoLink)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-auto\",children:[book.previewLink&&/*#__PURE__*/_jsx(\"a\",{href:book.previewLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm text-primary-400 hover:text-primary-300 underline\",children:\"\\u30D7\\u30EC\\u30D3\\u30E5\\u30FC\"}),book.infoLink&&/*#__PURE__*/_jsx(\"a\",{href:book.infoLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm text-primary-400 hover:text-primary-300 underline\",children:\"\\u8A73\\u7D30\\u60C5\\u5831\"})]})]})]});}export function RecentBooks(){const{books,isLoading,error}=useRecentBooks();if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"\\u66F8\\u7C4D\\u60C5\\u5831\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-400\",children:[\"\\u30A8\\u30E9\\u30FC: \",error]})});}if(books.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"\\u66F8\\u7C4D\\u60C5\\u5831\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\\u3002\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"ISBN\\u30B3\\u30FC\\u30C9\\u304C\\u6B63\\u3057\\u3044\\u304B\\u3001openBD\\u306B\\u30C7\\u30FC\\u30BF\\u304C\\u5B58\\u5728\\u3059\\u308B\\u304B\\u78BA\\u8A8D\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 md:space-y-8\",children:books.map(book=>/*#__PURE__*/_jsx(BookCard,{book:book},book.isbn))});}","map":{"version":3,"names":["useRecentBooks","jsx","_jsx","jsxs","_jsxs","BookCard","_ref","book","className","children","cover","src","alt","title","loading","subtitle","author","publisher","pubdate","pageCount","categories","length","join","averageRating","repeat","Math","round","toFixed","ratingsCount","summary","previewLink","infoLink","href","target","rel","RecentBooks","books","isLoading","error","map","isbn"],"sources":["/Users/shiwa/Desktop/wanttodev.com/src/components/RecentBooks.tsx"],"sourcesContent":["import { useRecentBooks, BookInfo } from \"../hooks/useRecentBooks\";\n\nfunction BookCard({ book }: { book: BookInfo }) {\n  return (\n    <div className=\"flex flex-col md:flex-row gap-4 md:gap-6\">\n      {book.cover && (\n        <div className=\"flex-shrink-0\">\n          <img\n            src={book.cover}\n            alt={book.title}\n            className=\"w-32 h-48 md:w-40 md:h-60 object-cover\"\n            loading=\"lazy\"\n          />\n        </div>\n      )}\n      <div className=\"flex-1 flex flex-col\">\n        <h4 className=\"text-lg md:text-xl font-bold mb-1 text-white\">\n          {book.title}\n        </h4>\n        {book.subtitle && (\n          <p className=\"text-sm md:text-base text-gray-400 mb-2\">\n            {book.subtitle}\n          </p>\n        )}\n        <div className=\"text-sm md:text-base text-gray-300 space-y-1 mb-3\">\n          {book.author && (\n            <p>\n              <span className=\"text-gray-400\">著者:</span> {book.author}\n            </p>\n          )}\n          {book.publisher && (\n            <p>\n              <span className=\"text-gray-400\">出版社:</span> {book.publisher}\n            </p>\n          )}\n          {book.pubdate && (\n            <p>\n              <span className=\"text-gray-400\">発行日:</span> {book.pubdate}\n            </p>\n          )}\n          {book.pageCount && (\n            <p>\n              <span className=\"text-gray-400\">ページ数:</span> {book.pageCount}ページ\n            </p>\n          )}\n          {book.categories && book.categories.length > 0 && (\n            <p>\n              <span className=\"text-gray-400\">カテゴリ:</span>{\" \"}\n              {book.categories.join(\", \")}\n            </p>\n          )}\n          {book.averageRating && (\n            <p>\n              <span className=\"text-gray-400\">評価:</span>{\" \"}\n              <span className=\"text-yellow-400\">\n                {\"★\".repeat(Math.round(book.averageRating))}\n                {\"☆\".repeat(5 - Math.round(book.averageRating))}\n              </span>{\" \"}\n              {book.averageRating.toFixed(1)}\n              {book.ratingsCount && (\n                <span className=\"text-gray-500 text-xs ml-1\">\n                  ({book.ratingsCount}件の評価)\n                </span>\n              )}\n            </p>\n          )}\n        </div>\n        {book.summary && (\n          <p className=\"text-sm text-gray-400 line-clamp-3 mb-3\">\n            {book.summary}\n          </p>\n        )}\n        {(book.previewLink || book.infoLink) && (\n          <div className=\"flex gap-3 mt-auto\">\n            {book.previewLink && (\n              <a\n                href={book.previewLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-primary-400 hover:text-primary-300 underline\"\n              >\n                プレビュー\n              </a>\n            )}\n            {book.infoLink && (\n              <a\n                href={book.infoLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-primary-400 hover:text-primary-300 underline\"\n              >\n                詳細情報\n              </a>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport function RecentBooks() {\n  const { books, isLoading, error } = useRecentBooks();\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-gray-400\">書籍情報を読み込み中...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-red-400\">エラー: {error}</p>\n      </div>\n    );\n  }\n\n  if (books.length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-gray-400\">\n          書籍情報が見つかりませんでした。\n          <br />\n          <span className=\"text-sm\">\n            ISBNコードが正しいか、openBDにデータが存在するか確認してください。\n          </span>\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 md:space-y-8\">\n      {books.map((book) => (\n        <BookCard key={book.isbn} book={book} />\n      ))}\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}