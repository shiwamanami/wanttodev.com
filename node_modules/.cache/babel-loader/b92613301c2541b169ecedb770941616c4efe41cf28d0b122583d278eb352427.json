{"ast":null,"code":"import React,{useMemo}from\"react\";import{useParams,Link}from\"react-router-dom\";import{Button}from\"../components/Button\";import Cta from\"../components/Cta\";import{useDocumentTitle}from\"../hooks/useDocumentTitle\";import{blogData}from\"../data/blog\";import{formatBlogDate}from\"../lib/utils\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BlogDetail(){const{slug}=useParams();const post=blogData.find(p=>p.slug===slug&&p.isPublished);useDocumentTitle(post?post.title:\"記事が見つかりません\");// HTMLコンテンツを処理（コードブロック内のHTMLを正しくエスケープ）\nconst processedContent=useMemo(()=>{if(!post)return\"\";// <pre><code>タグ内のHTMLエンティティを正しく処理\nlet content=post.content;// <pre><code>...</code></pre>内のコンテンツを保護\ncontent=content.replace(/<pre><code>([\\s\\S]*?)<\\/code><\\/pre>/g,(match,codeContent)=>{// コードブロック内のHTMLエンティティをさらにエスケープ\nconst escaped=codeContent.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\"/g,'&quot;').replace(/'/g,'&#39;');return\"<pre><code>\".concat(escaped,\"</code></pre>\");});return content;},[post]);if(!post){return/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-screen flex-col relative\",children:/*#__PURE__*/_jsx(\"section\",{className:\"container max-w-6xl py-10 sm:py-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4\",children:\"\\u8A18\\u4E8B\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-8\",children:\"\\u6307\\u5B9A\\u3055\\u308C\\u305F\\u8A18\\u4E8B\\u306F\\u5B58\\u5728\\u3057\\u307E\\u305B\\u3093\\u3002\"}),/*#__PURE__*/_jsx(Link,{to:\"/blog\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",children:\"\\u30D6\\u30ED\\u30B0\\u4E00\\u89A7\\u306B\\u623B\\u308B\"})})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen flex-col relative\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"container max-w-6xl py-10 sm:py-20\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"flex items-center space-x-2 text-sm text-gray-400\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"hover:text-primary-400 transition-colors\",children:\"Top\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"text-gray-600\",children:\"/\"}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/blog\",className:\"hover:text-primary-400 transition-colors\",children:\"Blog\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"text-gray-600\",children:\"/\"}),/*#__PURE__*/_jsx(\"li\",{className:\"truncate max-w-xs\",children:post.title})]})}),/*#__PURE__*/_jsxs(\"article\",{className:\"space-y-8 md:space-y-12\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:post.category.map((cat,index)=>/*#__PURE__*/_jsxs(Link,{to:\"/blog?category=\".concat(cat),className:\"text-xs md:text-sm text-primary-500 border-b border-transparent hover:border-primary-500\",children:[\"#\",cat]},index))}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl text-start !mt-0 after:!hidden\",children:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4 text-sm text-gray-400\",children:[/*#__PURE__*/_jsx(\"time\",{dateTime:post.date,children:formatBlogDate(post.date)}),post.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:post.tags.map((tag,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs\",children:[\"#\",tag]},index))})]}),post.thumbnail&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"img\",{src:post.thumbnail,alt:post.title,className:\"w-full h-auto rounded-lg\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blog-content prose prose-invert max-w-none\",dangerouslySetInnerHTML:{__html:processedContent}})}),post.technologies&&post.technologies.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-8 md:gap-20 pt-8 border-t border-gray-700\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"md:w-1/6 text-primary-500 text-nowrap\",children:[\"Technology\",/*#__PURE__*/_jsx(\"span\",{className:\"block text-sm md:text-base text-gray-100\",children:\"\\u4F7F\\u7528\\u6280\\u8853\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:w-5/6 flex flex-wrap gap-3\",children:post.technologies.map((tech,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-gray-700 rounded-full text-sm\",children:tech},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center pt-8\",children:/*#__PURE__*/_jsx(Link,{to:\"/blog\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",children:\"Back to Blog\"})})})]})]}),/*#__PURE__*/_jsx(Cta,{})]});}","map":{"version":3,"names":["React","useMemo","useParams","Link","Button","Cta","useDocumentTitle","blogData","formatBlogDate","jsx","_jsx","jsxs","_jsxs","BlogDetail","slug","post","find","p","isPublished","title","processedContent","content","replace","match","codeContent","escaped","concat","className","children","to","variant","category","map","cat","index","dateTime","date","tags","length","tag","thumbnail","src","alt","dangerouslySetInnerHTML","__html","technologies","tech"],"sources":["/Users/shiwa/Desktop/wanttodev.com/src/pages/BlogDetail.tsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { Button } from \"../components/Button\";\nimport Cta from \"../components/Cta\";\nimport { useDocumentTitle } from \"../hooks/useDocumentTitle\";\nimport { blogData, BlogCategory } from \"../data/blog\";\nimport { formatBlogDate } from \"../lib/utils\";\n\nexport default function BlogDetail() {\n  const { slug } = useParams<{ slug: string }>();\n  const post = blogData.find((p) => p.slug === slug && p.isPublished);\n\n  useDocumentTitle(post ? post.title : \"記事が見つかりません\");\n\n  // HTMLコンテンツを処理（コードブロック内のHTMLを正しくエスケープ）\n  const processedContent = useMemo(() => {\n    if (!post) return \"\";\n    \n    // <pre><code>タグ内のHTMLエンティティを正しく処理\n    let content = post.content;\n    \n    // <pre><code>...</code></pre>内のコンテンツを保護\n    content = content.replace(\n      /<pre><code>([\\s\\S]*?)<\\/code><\\/pre>/g,\n      (match, codeContent) => {\n        // コードブロック内のHTMLエンティティをさらにエスケープ\n        const escaped = codeContent\n          .replace(/&/g, '&amp;')\n          .replace(/</g, '&lt;')\n          .replace(/>/g, '&gt;')\n          .replace(/\"/g, '&quot;')\n          .replace(/'/g, '&#39;');\n        return `<pre><code>${escaped}</code></pre>`;\n      }\n    );\n    \n    return content;\n  }, [post]);\n\n  if (!post) {\n    return (\n      <div className=\"flex min-h-screen flex-col relative\">\n        <section className=\"container max-w-6xl py-10 sm:py-20\">\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl font-bold mb-4\">記事が見つかりません</h1>\n            <p className=\"text-gray-300 mb-8\">指定された記事は存在しません。</p>\n            <Link to=\"/blog\">\n              <Button variant=\"outline\">ブログ一覧に戻る</Button>\n            </Link>\n          </div>\n        </section>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex min-h-screen flex-col relative\">\n      <section className=\"container max-w-6xl py-10 sm:py-20\">\n        <nav className=\"mb-8\">\n          <ol className=\"flex items-center space-x-2 text-sm text-gray-400\">\n            <li>\n              <Link to=\"/\" className=\"hover:text-primary-400 transition-colors\">\n                Top\n              </Link>\n            </li>\n            <li className=\"text-gray-600\">/</li>\n            <li>\n              <Link\n                to=\"/blog\"\n                className=\"hover:text-primary-400 transition-colors\"\n              >\n                Blog\n              </Link>\n            </li>\n            <li className=\"text-gray-600\">/</li>\n            <li className=\"truncate max-w-xs\">{post.title}</li>\n          </ol>\n        </nav>\n\n        <article className=\"space-y-8 md:space-y-12\">\n          {/* ヘッダー情報 */}\n          <header className=\"space-y-4\">\n            <div className=\"flex flex-wrap gap-2\">\n              {post.category.map((cat: BlogCategory, index: number) => (\n                <Link\n                  key={index}\n                  to={`/blog?category=${cat}`}\n                  className=\"text-xs md:text-sm text-primary-500 border-b border-transparent hover:border-primary-500\"\n                >\n                  #{cat}\n                </Link>\n              ))}\n            </div>\n\n            <h1 className=\"text-3xl md:text-4xl text-start !mt-0 after:!hidden\">\n              {post.title}\n            </h1>\n\n            <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-400\">\n              <time dateTime={post.date}>{formatBlogDate(post.date)}</time>\n              {post.tags.length > 0 && (\n                <div className=\"flex flex-wrap gap-2\">\n                  {post.tags.map((tag, index) => (\n                    <span key={index} className=\"text-xs\">\n                      #{tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {post.thumbnail && (\n              <div className=\"mt-6\">\n                <img\n                  src={post.thumbnail}\n                  alt={post.title}\n                  className=\"w-full h-auto rounded-lg\"\n                />\n              </div>\n            )}\n          </header>\n\n          {/* 記事本文 */}\n          <div className=\"max-w-none\">\n            <div\n              className=\"blog-content prose prose-invert max-w-none\"\n              dangerouslySetInnerHTML={{ __html: processedContent }}\n            />\n          </div>\n\n          {/* 使用技術 */}\n          {post.technologies && post.technologies.length > 0 && (\n            <div className=\"flex flex-col md:flex-row gap-8 md:gap-20 pt-8 border-t border-gray-700\">\n              <h3 className=\"md:w-1/6 text-primary-500 text-nowrap\">\n                Technology\n                <span className=\"block text-sm md:text-base text-gray-100\">\n                  使用技術\n                </span>\n              </h3>\n              <div className=\"md:w-5/6 flex flex-wrap gap-3\">\n                {post.technologies.map((tech, index) => (\n                  <span\n                    key={index}\n                    className=\"px-3 py-1 bg-gray-700 rounded-full text-sm\"\n                  >\n                    {tech}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* ナビゲーション */}\n          <div className=\"flex justify-center pt-8\">\n            <Link to=\"/blog\">\n              <Button variant=\"outline\">Back to Blog</Button>\n            </Link>\n          </div>\n        </article>\n      </section>\n\n      <Cta />\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}